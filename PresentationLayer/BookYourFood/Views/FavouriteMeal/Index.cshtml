@using ReservationDomain.Model
@model BookYourFood.Models.FavouriteMealViewModel

@{
    ViewBag.Title = "Favourite meal";
}

<div class="page-header">
    <h2>This is list of your favourite meals</h2>
</div>

@using (Html.BeginForm("Index", "FavouriteMeal"))
{
    <input hidden id="mealToRemove" name="id" />
    <div class="panel panel-primary">
        <div class="panel-heading">Favourite meals</div>
        <ul class="list-group">
            @for (int i = 0; i < Model.FavouriteMeals.Count; i++)
            {
                Meal meal = @Model.FavouriteMeals.ElementAt(i);
                <li class="list-group-item" style="padding-top: 0px; padding-bottom: 0px ; background-color: @((i % 2) == 0 ? "" : "#DCDCDC")">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-10">
                                <h3>@meal.Name</h3>
                                <h4>@meal.Description</h4>
                            </div>
                            <div class="col-md-2" style="padding: 6px 0px 0px 0px">
                                <div class="fb-like"
                                     data-href="#@meal.Id"
                                     data-layout="button_count"
                                     data-action="like"
                                     data-show-faces="false"
                                     data-share="false">
                                </div>
                                <br />
                                <input class="btn btn-sm btn-primary"
                                       type="submit"
                                       value="Remove"
                                       onclick="removeFavouriteMeal(@meal.Id)"
                                       style="margin-top: 10px"
                                       title="Remove this item from your list" />
                            </div>
                        </div>
                    </div>
                </li>
            }
        </ul>
    </div>
}

<script type="text/javascript">
    function removeFavouriteMeal(e)
    {
        $('#mealToRemove').val(e);
    }
</script>




